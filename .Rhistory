values_to = "value") %>%
ggplot(data = .,
mapping = aes(y = value,
group = factor,
color = factor)) +
geom_histogram() +
facet_wrap(~factor) +
coord_flip()
# histogram
ff_3_factors$subsets$data[[1]] %>%
mutate(date = ym(date)) %>%
pivot_longer(cols = -date,
names_to = "factor",
values_to = "value") %>%
ggplot(data = .,
mapping = aes(y = value,
group = factor,
fill = factor)) +
geom_histogram(color = "white") +
facet_wrap(~factor) +
coord_flip()
# histogram
ff_3_factors$subsets$data[[1]] %>%
mutate(date = ym(date)) %>%
pivot_longer(cols = -date,
names_to = "factor",
values_to = "value") %>%
ggplot(data = .,
mapping = aes(y = value,
group = factor,
fill = factor)) +
geom_histogram(color = "white") +
facet_wrap(~factor, scales = "free") +
coord_flip()
# 1 er månedlig
# 2 er årlig
ff_3_factors$subsets$data[[1]] %>%
mutate(date = ym(date)) %>%
pivot_longer(cols = -date,
names_to = "factor",
values_to = "value") %>%
ggplot(data = .,
mapping = aes(x = date, y = value,
group = factor,
color = factor)) +
geom_line() +
facet_wrap(~factor, scales = "free")
size_mom_6$subsets
size_mom_6$subsets$data[[1]]
size_mom_6$subsets$data[[1]] %>%
mutate(date = ym(date)) %>%
pivot_longer(cols = -date,
names_to = "type",
values_to = "value") %>%
ggplot(data = .,
aes(x = type, y = value,
group = type,
color = type)) +
geom_line() +
facet_wrap(~type, scales = "free")
size_mom_6$subsets$data[[1]] %>%
mutate(date = ym(date)) %>%
pivot_longer(cols = -date,
names_to = "type",
values_to = "value") %>%
ggplot(data = .,
aes(x = date, y = value,
group = type,
color = type)) +
geom_line() +
facet_wrap(~type, scales = "free")
# histogram
size_mom_6$subsets$data[[1]] %>%
pivot_longer(cols = -date,
names_to = "type",
values_to = "value") %>%
ggplot(data = .,
aes(y = value,
group = type,
color = type)) +
geom_histogram() +
facet_wrap(~type, scales = "free") +
coord_flip()
# histogram
size_mom_6$subsets$data[[1]] %>%
pivot_longer(cols = -date,
names_to = "type",
values_to = "value") %>%
ggplot(data = .,
aes(y = value,
group = type,
fill = type)) +
geom_histogram(color = "white") +
facet_wrap(~type, scales = "free") +
coord_flip()
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(frenchdata)
library(ggplot2)
data_sets = get_french_data_list() # All the datasets in the package
# US stocks
# Nr 1 er månedlige returns
# Nr 2 er årlige returns
ff_3_factors <- download_french_data("Fama/French 3 Factors") # Download of data
data_sets = get_french_data_list() # All the datasets in the package
# US stocks
# Nr 1 er månedlige returns
# Nr 2 er årlige returns
ff_3_factors <- download_french_data("Fama/French 3 Factors") # Download of data
# f_3_factors$subsets$data[[2]] # How to extract dataset
size_mom_6 <- download_french_data("6 Portfolios Formed on Size and Momentum (2 x 3)")
size_mom_25 <- download_french_data("25 Portfolios Formed on Size and Momentum (5 x 5)")
# EU stocks in US dollars
size_mom_6_euro <- download_french_data("6 European Portfolios Formed on Size and Momentum (2 x 3)")
size_mom_25_euro <- download_french_data("25 European Portfolios Formed on Size and Momentum (5 x 5)")
# Other
exchange_rate <- read_csv("Data AA/eurofxref-hist.csv") # Tror det er valutakurser
Yield_curve_1_year <- read_csv("Data AA/Yield curve 1 year.csv")
# Yield_curve <- read_csv("Data AA/Yield curve full.csv")
# 1 er månedlig
# 2 er årlig
# Hvis månedlig skal mutate(date = ym(date)) være med
ff_3_factors$subsets$data[[1]] %>%
mutate(date = ym(date)) %>%
pivot_longer(cols = -date,
names_to = "factor",
values_to = "value") %>%
ggplot(data = .,
mapping = aes(x = date, y = value,
group = factor,
color = factor)) +
geom_line() +
facet_wrap(~factor, scales = "free")
# histogram
ff_3_factors$subsets$data[[1]] %>%
mutate(date = ym(date)) %>%
pivot_longer(cols = -date,
names_to = "factor",
values_to = "value") %>%
ggplot(data = .,
mapping = aes(y = value,
group = factor,
fill = factor)) +
geom_histogram(color = "white") +
facet_wrap(~factor, scales = "free") +
coord_flip()
size_mom_6$subsets$data[[1]] %>%
mutate(date = ym(date)) %>%
pivot_longer(cols = -date,
names_to = "type",
values_to = "value") %>%
ggplot(data = .,
aes(x = date, y = value,
group = type,
color = type)) +
geom_line() +
facet_wrap(~type, scales = "free")
# histogram
size_mom_6$subsets$data[[1]] %>%
pivot_longer(cols = -date,
names_to = "type",
values_to = "value") %>%
ggplot(data = .,
aes(y = value,
group = type,
fill = type)) +
geom_histogram(color = "white") +
facet_wrap(~type, scales = "free") +
coord_flip()
?frenchdata
browse_details_page(size_mom_25)
browse_details_page(size_mom_6)
browse_details_page(size_mom_6_euro)
browse_details_page(size_mom_6_euro)
browse_details_page(size_mom_25_euro)
Yield_curve_1_year["TIME_PERIOD", "OBS_VALUE"]
Yield_curve_1_year[c("TIME_PERIOD", "OBS_VALUE")]
Yield_curve_1_year[c("TIME_PERIOD", "OBS_VALUE")] %>%
ggplot(aes(TIME_PERIOD, OBS_VALUE)) +
geom_line()
Yield_curve_1_year[c("TIME_PERIOD", "OBS_VALUE")] %>%
ggplot(aes(TIME_PERIOD, OBS_VALUE)) +
geom_smooth()
ff_3_factors
ff_3_factors$subsets$data[1]
ff_3_factors$subsets$data[1]$data
ff_3_factors$subsets$data[1]
size_mom_6$subsets$name
size_mom_6
size_mom_6$subsets
size_mom_6$subsets$data[6]
size_mom_6$subsets$data[6] %>%
mutate(date = ym(date)) %>%
pivot_longer(cols = -date,
names_to = "type",
values_to = "value")
size_mom_6$subsets$data[6]
size_mom_6$subsets$data[[6]] %>%
mutate(date = ym(date)) %>%
pivot_longer(cols = -date,
names_to = "type",
values_to = "value")
size_mom_6$subsets$data[[6]] %>%
mutate(date = ym(date)) %>%
pivot_longer(cols = -date,
names_to = "type",
values_to = "value") %>%
ggplot(aes(date, value, group = type, color = type)) +
geom_line()
size_mom_6$subsets$data[[6]] %>%
mutate(date = ym(date)) %>%
pivot_longer(cols = -date,
names_to = "type",
values_to = "value") %>%
ggplot(aes(date, value, group = type, color = type)) +
geom_line() +
facet_wrap(~type, scales = "free")
size_mom_6$subsets$data[[6]] %>%
mutate(date = ym(date)) %>%
pivot_longer(cols = -date,
names_to = "type",
values_to = "value") %>%
ggplot(aes(date, value, group = type, color = type)) +
geom_line() +
facet_wrap(~type)
, scales = "free"
size_mom_6$subsets$data[[6]] %>%
mutate(date = ym(date)) %>%
pivot_longer(cols = -date,
names_to = "type",
values_to = "value") %>%
ggplot(aes(date, value, group = type, color = type)) +
geom_line() +
facet_wrap(~type, scales = "free")
size_mom_6$subsets$data[[6]] %>%
mutate(date = ym(date)) %>%
pivot_longer(cols = -date,
names_to = "type",
values_to = "value") %>%
ggplot(aes(date, value, group = type, color = type)) +
geom_line() +
facet_wrap(~type, scales = "free") +
theme(legend.position = "bottom")
ff_3_factors
size_mom_6$subsets
size_mom_6$subsets$data[[5]] %>%
mutate(date = ym(date)) %>%
pivot_longer(cols = -date,
names_to = "type",
values_to = "value") %>%
ggplot(aes(date, value, group = type, color = type)) +
geom_line() +
facet_wrap(~type, scales = "free") +
theme(legend.position = "bottom")
size_mom_6$subsets
size_mom_6$subsets$data[[5]] %>%
mutate(date = ym(date)) %>%
pivot_longer(cols = -date,
names_to = "type",
values_to = "value") %>%
ggplot(aes(date, value, group = type, color = type)) +
geom_line() +
facet_wrap(~type, scales = "free") +
theme(legend.position = "bottom")
library(ggpubr)
install.packages("ggpubr")
size_mom_6$subsets
size_mom_6$subsets$data[[5]] %>%
mutate(date = ym(date)) %>%
pivot_longer(cols = -date,
names_to = "type",
values_to = "value") %>%
ggplot(aes(date, value, group = type, color = type)) +
geom_line() +
facet_wrap(~type, scales = "free") +
theme(legend.position = "bottom")
library(ggpubr)
p <- size_mom_6$subsets$data[[6]] %>%
mutate(date = ym(date)) %>%
pivot_longer(cols = -date,
names_to = "type",
values_to = "value") %>%
ggplot(aes(date, value, color = type)) +
geom_line() +
facet_wrap(~type, scales = "free")
ggpubr::ggpar(p, legend = "bottom")
p <- size_mom_6$subsets$data[[5]] %>%
mutate(date = ym(date)) %>%
pivot_longer(cols = -date,
names_to = "type",
values_to = "value") %>%
ggplot(aes(date, value, color = type)) +
geom_line() +
facet_wrap(~type, scales = "free")
size_mom_6$subsets
size_mom_6$subsets$data[[5]] %>%
mutate(date = ym(date)) %>%
pivot_longer(cols = -date,
names_to = "type",
values_to = "value") %>%
ggplot(aes(date, value, group = type, color = type)) +
geom_line() +
facet_wrap(~type, scales = "free") +
theme(legend.position = "bottom")
library(ggpubr)
p <- size_mom_6$subsets$data[[5]] %>%
mutate(date = ym(date)) %>%
pivot_longer(cols = -date,
names_to = "type",
values_to = "value") %>%
ggplot(aes(date, value, color = type)) +
geom_line() +
facet_wrap(~type, scales = "free")
ggpubr::ggpar(p, legend = "bottom")
size_mom_6$subsets
size_mom_6$subsets$data[[5]] %>%
mutate(date = ym(date)) %>%
pivot_longer(cols = -date,
names_to = "type",
values_to = "value") %>%
ggplot(aes(date, value, color = type)) +
geom_line() +
facet_wrap(~type, scales = "free") +
theme(legend.position = "bottom")
size_mom_6$subsets$data[[5]] %>%
mutate(date = ym(date)) %>%
pivot_longer(cols = -date,
names_to = "group",
values_to = "value") %>%
ggplot(aes(date, value, color = group)) +
geom_line() +
facet_wrap(~group, scales = "free") +
theme(legend.position = "bottom")
size_mom_6$subsets
size_mom_6$subsets$data[[8]] %>%
mutate(date = ym(date)) %>%
pivot_longer(cols = -date,
names_to = "group",
values_to = "value") %>%
ggplot(aes(date, value, color = group)) +
geom_line() +
facet_wrap(~group, scales = "free") +
theme(legend.position = "bottom")
size_mom_6
browse_details_page(size_mom_6)
browse_details_page(size_mom_6$subsets)
browse_details_page(size_mom_6)
size_mom_6$subsets
size_mom_6$subsets
size_mom_6$subsets
size_mom_6$subsets$data[[1]]
size_mom_6$subsets$data[[5]]
size_mom_6$subsets$data[[6]]
size_mom_6$subsets$data[[6]] %>%
mutate(date = ym(date)) %>%
pivot_longer(cols = -date,
names_to = "group",
values_to = "value") %>%
ggplot(aes(date, value, color = group)) +
geom_line() +
facet_wrap(~group, scales = "free") +
theme(legend.position = "bottom")
size_mom_6$subsets
a <- size_mom_6$subsets$data[[6]]
a
r <- size_mom_6$subsets$data[[1]][,2:]
r <- size_mom_6$subsets$data[[1]][,2:ncol(size_mom_6$subsets$data[[1]])]
r
n <- size_mom_6$subsets$data[[5]][,2:ncol(size_mom_6$subsets$data[[5]])]
a <- size_mom_6$subsets$data[[6]][,2:ncol(size_mom_6$subsets$data[[6]])]
r
n
a
r*n
r
r
n
r*n
tmp <- r*n*a
tmp
tmp <- tibble(date = size_mom_6$subsets$data[[1]]$date, r*n*a)
tmp
tmp %>%
mutate(date = ym(date)) %>%
pivot_longer(cols = -date,
names_to = "group",
values_to = "value") %>%
ggplot(aes(date, value, color = group)) +
geom_line() +
facet_wrap(~group, scales = "free") +
theme(legend.position = "bottom")
total_return_6 <- tibble(date = size_mom_6$subsets$data[[1]]$date, r*n*a)
total_return_6 %>%
mutate(date = ym(date)) %>%
pivot_longer(cols = -date,
names_to = "group",
values_to = "value") %>%
ggplot(aes(date, value, color = group)) +
geom_line() +
facet_wrap(~group, scales = "free") +
theme(legend.position = "bottom")
# Total returns
r <- size_mom_6$subsets$data[[1]][,2:ncol(size_mom_6$subsets$data[[1]])]
size_mom_6$subsets$name
size_mom_6$subsets$data[[5]]
colMeans(size_mom_6$subsets$data[[5]][, 2:length((size_mom_6$subsets$data[[5]]))])
size_mom_6$subsets$name
colMeans(size_mom_6$subsets$data[[5]][, 2:length((size_mom_6$subsets$data[[6]]))])
colMeans(size_mom_6$subsets$data[[6]][, 2:length((size_mom_6$subsets$data[[6]]))])
colMeans(size_mom_6$subsets$data[[6]]
size_mom_6$subsets$data[[6]]
size_mom_6$subsets$data[[6]]
filter(size_mom_6$subsets$data[[6]], date >= 200409)
colMeans(filter(size_mom_6$subsets$data[[6]], date >= 200409)[, 2:length(filter(size_mom_6$subsets$data[[6]], date >= 200409))])
size_mom_6$subsets
ff_3_factors
r <- filter(size_mom_6$subsets$data[[1]], date >= 200409)[,2:ncol(size_mom_6$subsets$data[[1]])]=
n <- filter(size_mom_6$subsets$data[[5]], date >= 200409)[,2:ncol(size_mom_6$subsets$data[[5]])]=
a <- filter(size_mom_6$subsets$data[[6]], date >= 200409)[,2:ncol(size_mom_6$subsets$data[[6]])]
# Total return
# Ved ikke lige hvordan dette skulle regnes, men ud fra hint og at det er givet som et vægtet gennemsnit kunne det være dette
# r er Average Value Weighted Returns -- Monthly
# n er Number of Firms in Portfolios
# a er Average Firm Size (market cap)
r <- filter(size_mom_6$subsets$data[[1]], date >= 200409)[,2:ncol(size_mom_6$subsets$data[[1]])]
r <- filter(size_mom_6$subsets$data[[1]], date >= 200409)[,2:ncol(size_mom_6$subsets$data[[1]])]
n <- filter(size_mom_6$subsets$data[[5]], date >= 200409)[,2:ncol(size_mom_6$subsets$data[[5]])]
a <- filter(size_mom_6$subsets$data[[6]], date >= 200409)[,2:ncol(size_mom_6$subsets$data[[6]])]
r
filter(size_mom_6$subsets$data[[6]], date >= 200409) %>%
mutate(date = ym(date)) %>%
pivot_longer(cols = -date,
names_to = "group",
values_to = "value") %>%
ggplot(aes(date, value, color = group)) +
geom_line() +
facet_wrap(~group, scales = "free") +
theme(legend.position = "bottom")
filter(size_mom_6$subsets$data[[6]], date >= 200409) %>%
mutate(date = ym(date)) %>%
pivot_longer(cols = -date,
names_to = "group",
values_to = "value") %>%
ggplot(aes(date, value, color = group)) +
geom_line() +
facet_wrap(~group, scales = "free") +
theme(legend.position = "bottom") +
ggtitle("f")
size_mom_6$subsets
size_mom_6$subsets$name
k <- 6
filter(size_mom_6$subsets$data[[k]], date >= 200409) %>%
mutate(date = ym(date)) %>%
pivot_longer(cols = -date,
names_to = "group",
values_to = "value") %>%
ggplot(aes(date, value, color = group)) +
geom_line() +
facet_wrap(~group, scales = "free") +
theme(legend.position = "bottom") +
ggtitle(size_mom_6$subsets$name[k])
filter(size_mom_6$subsets$data[[k]], date >= 200409) %>%
mutate(date = ym(date)) %>%
pivot_longer(cols = -date,
names_to = "group",
values_to = "value") %>%
ggplot(aes(date, value, color = group)) +
geom_line() +
facet_wrap(~group, scales = "free") +
theme(legend.position = "bottom") +
title(size_mom_6$subsets$name[k])
filter(size_mom_6$subsets$data[[k]], date >= 200409) %>%
mutate(date = ym(date)) %>%
pivot_longer(cols = -date,
names_to = "group",
values_to = "value") %>%
ggplot(aes(date, value, color = group)) +
geom_line() +
facet_wrap(~group, scales = "free") +
theme(legend.position = "bottom") +
ggtitle(size_mom_6$subsets$name[k])
# Plot af de forskellige dataset i size_mom_6
k <- 5
filter(size_mom_6$subsets$data[[k]], date >= 200409) %>%
mutate(date = ym(date)) %>%
pivot_longer(cols = -date,
names_to = "group",
values_to = "value") %>%
ggplot(aes(date, value, color = group)) +
geom_line() +
facet_wrap(~group, scales = "free") +
theme(legend.position = "bottom") +
ggtitle(size_mom_6$subsets$name[k])
# Plot af de forskellige dataset i size_mom_6
k <- 6
filter(size_mom_6$subsets$data[[k]], date >= 200409) %>%
mutate(date = ym(date)) %>%
pivot_longer(cols = -date,
names_to = "group",
values_to = "value") %>%
ggplot(aes(date, value, color = group)) +
geom_line() +
facet_wrap(~group, scales = "free") +
theme(legend.position = "bottom") +
ggtitle(size_mom_6$subsets$name[k])
size_mom_6$subsets$name
filter(size_mom_6)
#
colMeans(filter(size_mom_6$subsets$data[[6]], date >= 200409)[, 2:length(filter(size_mom_6$subsets$data[[6]], date >= 200409))])
size_mom_6$subsets$name # De forskellige datasets
# gennemsnitlige firm size i perioden
colMeans(filter(size_mom_6$subsets$data[[6]], date >= 200409)[, 2:length(filter(size_mom_6$subsets$data[[6]], date >= 200409))])
